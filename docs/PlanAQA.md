# План автоматизации

#### Объект тестирования

Веб-сервис оплаты путешествия двумя способами:
* дебетовой картой
* выдачей кредита по реквизитам банковской карты

#### Валидные данные тестовых карт
* Номер разрешённой (APPROVED) карты: 4444 4444 4444 4441
* Номер запрещённой (DECLINED) карты: 4444 4444 4444 4442
* Месяц: двузначное число в диапазоне 01...12
* Год: больше текущего на два, в формате двузначного числа
* Владелец: Имя и Фамилия латиницей
* CVC: Трёхзначное число в диапазоне 000...999

## Перечень автоматизируемых сценариев

1. Купить. Успешная оплата разрешённой картой
    * Выбрать "Купить"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

2. Купить в кредит. Успешная оплата кредитом с разрешённой картой
    * Выбрать "Купить в кредит"
    * Заполнить данные разрешённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Успешно". В БД статус операции: "APPROVED"

3. Купить. Отказ в оплате запрещённой картой
    * Выбрать "Купить"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

4. Купить в кредит. Отказ в оплате кредитом с запрещённой картой
    * Выбрать "Купить в кредит"
    * Заполнить данные запрещённой карты
    * Нажать "Продолжить"
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"

5. Купить. Отказ. Номер карты не существует в системе
Карту, номер которой не существует в системе, считаем равной запрещённой карте
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 4444
    * Ожидаем: уведомление "Отказано". В БД статус операции: "DECLINED"
	
6. Купить в кредит. Отказ. Номер карты не существует в системе
Карту, номер которой не существует в системе, считаем равной запрещённой карте
       * Выбрать "Купить в кредит"
       * Заполнить все поля, кроме номера, валидными данными
       * В поле "Номер карты" ввести: 4444 4444 4444 4444
       * Получить уведомление "Отказано". В БД статус операции: "DECLINED"

7. Купить. Оплата не происходит. Незаполнен номер карты
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

8. Купить. Оплата не происходит. Неполный номер карты
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

9. Купить. Оплата проходит после исправления номера карты на валидный
    * Выбрать "Купить"
    * Заполнить все поля, кроме номера, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Номер карты" ввести: 4444 4444 4444 4441
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"
    
10. Купить в кредит. Оплата не происходит. Незаполнен номер карты
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

11. Купить в кредит. Оплата не происходит. Неполный номер карты
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * В поле "Номер карты" ввести: 4444 4444 4444 444
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"

12. Купить в кредит. Оплата проходит после исправления номера карты на валидный
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме номера, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Номер карты" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Номер карты" ввести: 4444 4444 4444 4441
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

13. Купить. Оплата не происходит. Незаполнен месяц
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"

14. Купить. Оплата не происходит. Месяц введён одной цифрой
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 1
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"

15. Купить. Оплата не происходит. Месяц 00
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"     

16. Купить. Оплата не происходит. Месяц 13
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 13
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"   

17. Купить в кредит. Оплата не происходит. Незаполнен месяц
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"
		
18. Купить в кредит. Оплата не происходит. Месяц введён одной цифрой
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 1
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"

19. Купить в кредит. Оплата не происходит. Месяц 00
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 00
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"     

20. Купить в кредит. Оплата не происходит. Месяц 13
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * В поле "Месяц" ввести: 13
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

21. Купить. Оплата не происходит. Год не указан
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

22. Купить. Оплата не происходит. Год введён одной цифрой
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести: 1
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

23. Купить  в кредит. Оплата не происходит. Год не указан
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

24. Купить в кредит. Оплата не происходит. Год введён одной цифрой
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * В поле "Год" ввести: 1
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"

25. Купить. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

26. Купить в кредит. Оплата не происходит. Карта просрочена на месяц
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести прошедший
    * В поле "Год" ввести текущий год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

27. Купить. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошлый год
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

28. Купить в кредит. Оплата не происходит. Карта просрочена на год
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести прошедший
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Истёк срок действия карты"

29. Купить. Оплата не происходит. Срок действия больше 5 лет
    * Выбрать "Купить"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести текущий +6 лет
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

30. Купить в кредит. Оплата не происходит. Срок действия больше 5 лет
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года и месяца, валидными данными
    * В поле "Месяц" ввести текущий
    * В поле "Год" ввести текущий +6 лет.
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверно указан срок действия карты"

31. Купить. Оплата проходит после исправления месяца
    * Выбрать "Купить"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Месяц" ввести валидный месяц
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

32. Купить в кредит. Оплата проходит после исправления месяца
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме месяца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Месяц" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Месяц" ввести валидный месяц
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

33. Купить. Оплата проходит после исправления года
    * Выбрать "Купить"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Год" ввести валидный год
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

34. Купить в кредит. Оплата проходит после исправления года
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме года, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Год" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "Год" ввести валидный год
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке номера исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

35. Купить. Оплата не происходит. Имя владельца не введено
    * Выбрать "Купить"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

36. Купить в кредит. Оплата не происходит. Имя владельца не введено
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"

37. Купить. Оплата не происходит. Имя владельца невалидно
    * Выбрать "Купить"
    * Заполнить все поля, кроме владельца, валидными данными
    * В поле "Владелец" ввести: Василий @№123
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

38. Купить в кредит. Оплата не происходит. Имя владельца невалидно
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме владельца, валидными данными
    * В поле "Владелец" ввести: Василий @№123
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Неверный формат"

39. Купить. Оплата происходит после исправления имени владельца
    * Выбрать "Купить"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"
    * В поле "Владелец" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

40. Купить в кредит. Оплата происходит после исправления имени владельца
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме владельца, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "Владелец" подчёркнуто красным, под полем есть сообщение "Поле обязательно для заполнения"
    * В поле "Владелец" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

41. Купить. Оплата не происходит. CVC/CVV не заполнено
    * Выбрать "Купить"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

42. Купить в кредит. Оплата не происходит. CVC/CVV не заполнено
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

43. Купить. Оплата не происходит. CVC/CVV не три цифры
    * Выбрать "Купить"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * В поле "CVC/CVV" ввести: 42
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

44. Купить в кредит. Оплата не происходит. CVC/CVV не три цифры
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * В поле "CVC/CVV" ввести: 42
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"

45. Купить. Оплата происходит после исправления CVC/CVV
    * Выбрать "Купить"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "CVC/CVV" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"

46. Купить в кредит. Оплата происходит после исправления CVC/CVV
    * Выбрать "Купить в кредит"
    * Заполнить все поля, кроме CVC/CVV, валидными данными
    * Нажать "Продолжить"
    * Ожидаем: Оплата не происходит. Поле "CVC/CVV" подчёркнуто красным, под полем есть сообщение "Неверный формат"
    * В поле "CVC/CVV" ввести валидное значение
    * Нажать "Продолжить"
    * Ожидаем: Нотификация об ошибке исчезла. Получено уведомление "Успешно". В БД статус операции: "APPROVED"


### Перечень используемых инструментов с обоснованием выбора
* Java 8 - наиболее распространенная версия в настоящее время
* MySQL - база данных с которой может работать приложение
* PostgreSQL - вторая база данных с которой может работать приложение
* node-js - окружение в котором работает симулятор банкоского сервиса 
* Junit 5 - позволяет создавать автоматизированные тесты на java 
* Selenide - для автоматизации UI тестов на java c простым синтаксисом
* Faker - как генератор случайных имён владельца карты 
* lombok - упрощает написание программ на java
* Allure - генератор отчётов тестирования

### Перечень и описание возможных рисков при автоматизации
* У тестировщика нет достаточного опыта в работе с инструментарием 
* Нет документации к тестируемому приложению. О корректном поведении приходится строить догадки.
* Сложный сценарий запуска приложения
* UI: непрерывный процесс совершенствования браузеров 

### Интервальная оценка с учётом рисков (в часах)
* Без рисков: до 40 часов
* С рисками: до 80 часов

### План сдачи работ
Написание и отладка тестов: 09 января 2020
Оформление отчётов: 12 января 2020